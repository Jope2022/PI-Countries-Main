{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { postActivities } from \"../redux/actions\";\nexport const useForm = (initialForm, validateForm) => {\n  _s();\n  const [form, setForm] = useState(initialForm);\n  const [errors, setErrors] = useState({});\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [Paises, setPaises] = useState([]);\n\n  // const handleChange = (event) => {\n  //     console.log(event)    //Actualiza el estado from cambios formulario\n  //     const { name, value } = event.target;\n  //     setForm({\n  //         ...form,\n  //         [name] : value,\n  //     });\n  // };\n\n  const handleBlur = event => {\n    console.log(event); // se encarga actualizar el estado from y error\n    handleChange(event);\n    setErrors(validateForm(form));\n  };\n  const handleSubmit = event => {\n    // envia los datos del formulario\n    console.log(event);\n    event.preventDefault();\n    setErrors(validateForm(form));\n    if (form.name && form.difficulty && form.duration && form.season && form.countryId && Object.keys(errors).length === 0) {\n      Paises.forEach(pais => {\n        dispatch(postActivities({\n          ...form,\n          countryId: pais\n        }));\n      });\n      alert('Actividad creada');\n      setForm(initialForm);\n      history.push(\"/home\");\n    } else {\n      alert(\"Todos los campos deben ser requeridos\");\n    }\n  };\n  const handleSelect = event => {\n    //actualizar el estado from y paises\n    console.log(event);\n    const {\n      value\n    } = event.target;\n    setForm({\n      ...form,\n      countryId: value\n    });\n    setPaises([...Paises, value]);\n  };\n  return {\n    form,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    handleSelect\n  };\n};\n_s(useForm, \"BVuFFINKiJybBPpcSnUKu4WMMfY=\", false, function () {\n  return [useDispatch, useHistory];\n});","map":{"version":3,"names":["useState","useDispatch","useHistory","postActivities","useForm","initialForm","validateForm","_s","form","setForm","errors","setErrors","dispatch","history","Paises","setPaises","handleBlur","event","console","log","handleChange","handleSubmit","preventDefault","name","difficulty","duration","season","countryId","Object","keys","length","forEach","pais","alert","push","handleSelect","value","target"],"sources":["C:/Users/jopep/Desktop/PI-Countries-Main/PI-Countries-main/client/src/Components/ActivityCreate/useForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {postActivities} from \"../redux/actions\"\n\n\nexport const useForm = ( initialForm, validateForm ) => {\n    const [form, setForm] = useState(initialForm);\n    const [errors, setErrors] = useState({});\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [Paises, setPaises] = useState([]);\n\n    // const handleChange = (event) => {\n    //     console.log(event)    //Actualiza el estado from cambios formulario\n    //     const { name, value } = event.target;\n    //     setForm({\n    //         ...form,\n    //         [name] : value,\n    //     });\n    // };\n\n    const handleBlur = (event) => {\n        console.log(event)    // se encarga actualizar el estado from y error\n        handleChange(event);\n        setErrors(validateForm(form));\n    };\n\n    const handleSubmit = (event) => {    // envia los datos del formulario\n        console.log(event)\n        event.preventDefault();\n        setErrors(validateForm(form));\n\n        if (form.name && form.difficulty && form.duration && form.season && form.countryId && Object.keys(errors).length === 0) {\n\n            Paises.forEach(pais=>{\n                dispatch(postActivities({...form, countryId: pais}));\n\n            })\n            alert('Actividad creada');\n            setForm(initialForm);\n            history.push(\"/home\");\n        } else {\n            alert(\"Todos los campos deben ser requeridos\");\n        }\n    };\n\n      const handleSelect = (event) => {  //actualizar el estado from y paises\n        console.log(event)\n        const { value } = event.target;\n        setForm({\n            ...form,\n            countryId: value\n        })\n        setPaises([\n            ...Paises,\n            value\n        ])\n    }\n\n    return {\n        form,\n        errors,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        handleSelect\n    }\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAAQC,cAAc,QAAO,kBAAkB;AAG/C,OAAO,MAAMC,OAAO,GAAGA,CAAEC,WAAW,EAAEC,YAAY,KAAM;EAAAC,EAAA;EACpD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAACK,WAAW,CAAC;EAC7C,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMY,QAAQ,GAAGX,WAAW,EAAE;EAC9B,MAAMY,OAAO,GAAGX,UAAU,EAAE;EAC5B,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMgB,UAAU,GAAIC,KAAK,IAAK;IAC1BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,EAAI;IACtBG,YAAY,CAACH,KAAK,CAAC;IACnBN,SAAS,CAACL,YAAY,CAACE,IAAI,CAAC,CAAC;EACjC,CAAC;EAED,MAAMa,YAAY,GAAIJ,KAAK,IAAK;IAAK;IACjCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClBA,KAAK,CAACK,cAAc,EAAE;IACtBX,SAAS,CAACL,YAAY,CAACE,IAAI,CAAC,CAAC;IAE7B,IAAIA,IAAI,CAACe,IAAI,IAAIf,IAAI,CAACgB,UAAU,IAAIhB,IAAI,CAACiB,QAAQ,IAAIjB,IAAI,CAACkB,MAAM,IAAIlB,IAAI,CAACmB,SAAS,IAAIC,MAAM,CAACC,IAAI,CAACnB,MAAM,CAAC,CAACoB,MAAM,KAAK,CAAC,EAAE;MAEpHhB,MAAM,CAACiB,OAAO,CAACC,IAAI,IAAE;QACjBpB,QAAQ,CAACT,cAAc,CAAC;UAAC,GAAGK,IAAI;UAAEmB,SAAS,EAAEK;QAAI,CAAC,CAAC,CAAC;MAExD,CAAC,CAAC;MACFC,KAAK,CAAC,kBAAkB,CAAC;MACzBxB,OAAO,CAACJ,WAAW,CAAC;MACpBQ,OAAO,CAACqB,IAAI,CAAC,OAAO,CAAC;IACzB,CAAC,MAAM;MACHD,KAAK,CAAC,uCAAuC,CAAC;IAClD;EACJ,CAAC;EAEC,MAAME,YAAY,GAAIlB,KAAK,IAAK;IAAG;IACjCC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,MAAM;MAAEmB;IAAM,CAAC,GAAGnB,KAAK,CAACoB,MAAM;IAC9B5B,OAAO,CAAC;MACJ,GAAGD,IAAI;MACPmB,SAAS,EAAES;IACf,CAAC,CAAC;IACFrB,SAAS,CAAC,CACN,GAAGD,MAAM,EACTsB,KAAK,CACR,CAAC;EACN,CAAC;EAED,OAAO;IACH5B,IAAI;IACJE,MAAM;IACNU,YAAY;IACZJ,UAAU;IACVK,YAAY;IACZc;EACJ,CAAC;AACL,CAAC;AAAA5B,EAAA,CA9DYH,OAAO;EAAA,QAGCH,WAAW,EACZC,UAAU;AAAA"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { postActivities } from \"../redux/actions\";\nimport axios from 'axios';\nexport const useForm = (initialForm, validateForm) => {\n  _s();\n  const [form, setForm] = useState(initialForm);\n  const [errors, setErrors] = useState({});\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [Paises, setPaises] = useState([]);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  const handleBlur = event => {\n    handleChange(event);\n    setErrors(validateForm(form));\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setErrors(validateForm(form));\n    // if (Object.keys(errors).length === 0) {\n    await axios.post('http://localhost:3001/activities', {\n      name: \"River\",\n      difficulty: 2,\n      duration: new Date().tuLocaleTimeString,\n      season: \"Autumn\",\n      countryId: \"MEX\"\n    });\n    //  dispatch(postActivities({\n    //     name: \"River\",\n    //     difficulty: 2,\n    //     duration: \"2:20\",\n    //     season: \"Autumn\",\n    //    countryId: \"MEX\"\n    //   }));\n    // alert('Activity created');\n    // setForm(initialForm);\n    // history.push(\"/home\");\n    // } else {\n    //     console.log(\"error creado\");\n    // }\n  };\n\n  const handleSelect = event => {\n    const {\n      value\n    } = event.target;\n    console.log(value);\n    setForm({\n      ...form,\n      countryId: value\n    });\n    setPaises([...Paises, value]);\n  };\n  return {\n    form,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    handleSelect\n  };\n};\n_s(useForm, \"BVuFFINKiJybBPpcSnUKu4WMMfY=\", false, function () {\n  return [useDispatch, useHistory];\n});","map":{"version":3,"names":["useState","useDispatch","useHistory","postActivities","axios","useForm","initialForm","validateForm","_s","form","setForm","errors","setErrors","dispatch","history","Paises","setPaises","handleChange","event","name","value","target","handleBlur","handleSubmit","preventDefault","post","difficulty","duration","Date","tuLocaleTimeString","season","countryId","handleSelect","console","log"],"sources":["C:/Users/jopep/Desktop/PI-Countries-Main/PI-Countries-main/client/src/Components/ActivityCreate/useForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {postActivities} from \"../redux/actions\"\nimport axios from 'axios';\n\n\nexport const useForm = ( initialForm, validateForm ) => {\n    const [form, setForm] = useState(initialForm);\n    const [errors, setErrors] = useState({});\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [Paises, setPaises] = useState([]);\n\n    const handleChange = (event) => {\n        const { name, value } = event.target;\n\n        setForm({\n            ...form,\n            [name] : value,\n        });\n    };\n\n    const handleBlur = (event) => {\n        handleChange(event);\n        setErrors(validateForm(form));\n    };\n\n    const handleSubmit = async(event) => {\n        event.preventDefault();\n        setErrors(validateForm(form));\n        // if (Object.keys(errors).length === 0) {\n            await axios.post('http://localhost:3001/activities',{\n                name: \"River\",\n                difficulty: 2,\n                duration: new Date().tuLocaleTimeString ,\n                season: \"Autumn\",\n               countryId: \"MEX\"\n              });\n            //  dispatch(postActivities({\n            //     name: \"River\",\n            //     difficulty: 2,\n            //     duration: \"2:20\",\n            //     season: \"Autumn\",\n            //    countryId: \"MEX\"\n            //   }));\n            // alert('Activity created');\n            // setForm(initialForm);\n            // history.push(\"/home\");\n        // } else {\n        //     console.log(\"error creado\");\n        // }\n    };\n\n      const handleSelect = (event) => {\n        const { value } = event.target;\n        console.log(value)\n        setForm({\n            ...form,\n            countryId: value\n        })\n        setPaises([\n            ...Paises,\n            value\n        ])\n    }\n\n    return {\n        form,\n        errors,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        handleSelect\n    }\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAAQC,cAAc,QAAO,kBAAkB;AAC/C,OAAOC,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,OAAO,GAAGA,CAAEC,WAAW,EAAEC,YAAY,KAAM;EAAAC,EAAA;EACpD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAACM,WAAW,CAAC;EAC7C,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMa,QAAQ,GAAGZ,WAAW,EAAE;EAC9B,MAAMa,OAAO,GAAGZ,UAAU,EAAE;EAC5B,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMiB,YAAY,GAAIC,KAAK,IAAK;IAC5B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IAEpCX,OAAO,CAAC;MACJ,GAAGD,IAAI;MACP,CAACU,IAAI,GAAIC;IACb,CAAC,CAAC;EACN,CAAC;EAED,MAAME,UAAU,GAAIJ,KAAK,IAAK;IAC1BD,YAAY,CAACC,KAAK,CAAC;IACnBN,SAAS,CAACL,YAAY,CAACE,IAAI,CAAC,CAAC;EACjC,CAAC;EAED,MAAMc,YAAY,GAAG,MAAML,KAAK,IAAK;IACjCA,KAAK,CAACM,cAAc,EAAE;IACtBZ,SAAS,CAACL,YAAY,CAACE,IAAI,CAAC,CAAC;IAC7B;IACI,MAAML,KAAK,CAACqB,IAAI,CAAC,kCAAkC,EAAC;MAChDN,IAAI,EAAE,OAAO;MACbO,UAAU,EAAE,CAAC;MACbC,QAAQ,EAAE,IAAIC,IAAI,EAAE,CAACC,kBAAkB;MACvCC,MAAM,EAAE,QAAQ;MACjBC,SAAS,EAAE;IACZ,CAAC,CAAC;IACJ;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACJ;IACA;IACA;EACJ,CAAC;;EAEC,MAAMC,YAAY,GAAId,KAAK,IAAK;IAC9B,MAAM;MAAEE;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IAC9BY,OAAO,CAACC,GAAG,CAACd,KAAK,CAAC;IAClBV,OAAO,CAAC;MACJ,GAAGD,IAAI;MACPsB,SAAS,EAAEX;IACf,CAAC,CAAC;IACFJ,SAAS,CAAC,CACN,GAAGD,MAAM,EACTK,KAAK,CACR,CAAC;EACN,CAAC;EAED,OAAO;IACHX,IAAI;IACJE,MAAM;IACNM,YAAY;IACZK,UAAU;IACVC,YAAY;IACZS;EACJ,CAAC;AACL,CAAC;AAAAxB,EAAA,CApEYH,OAAO;EAAA,QAGCJ,WAAW,EACZC,UAAU;AAAA"},"metadata":{},"sourceType":"module"}